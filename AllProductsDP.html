<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.tailwindcss.com/"></script>
    <link rel="stylesheet" href="https://use.hugeicons.com/font/icons.css" />
    <title>Exclusive</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div
        class="pre-nav-section bg-[#000000] text-white py-2 md:py-3 px-4 md:px-8 lg:px-32 flex flex-col sm:flex-row items-center justify-center sm:justify-between gap-2 sm:gap-4">
        <div class="flex justify-center items-center w-full sm:w-auto flex-1">
            <h1 class="text-xs sm:text-sm lg:text-base text-center">
                Summer Sale For All Swim Suits And Free Express Delivery - oFF 50%!
                <b class="underline font-thin ml-2">ShopNow</b>
            </h1>
        </div>
        <div class="flex justify-center items-center gap-2 w-full sm:w-auto sm:flex-shrink-0">
            <h1 class="text-xs sm:text-sm lg:text-base">English</h1>
            <i class="fa-solid fa-angle-down text-xs sm:text-sm"></i>
        </div>
    </div>
    <div
        class="navbar-section flex flex-col lg:flex-row justify-between items-center py-4 lg:py-8 px-4 md:px-20 lg:px-14 xl:px-20 gap-4 lg:gap-0">
        <div class="w-full lg:w-auto flex justify-center lg:justify-start">
            <h1 class="text-2xl md:text-3xl font-bold">Exclusive</h1>
        </div>
        <div class="w-full lg:w-auto flex justify-center order-3 lg:order-2">
            <ul class="flex items-center justify-center gap-6 md:gap-8 lg:gap-10">
                <li class="text-base md:text-lg lg:text-xl"><a href="index.html"
                        class="hover:border-b-[1px] transition-all duration-600 pb-1 border-black">Home</a></li>
                <li class="text-base md:text-lg lg:text-xl"><a href="Contact.html"
                        class="hover:border-b-[1px] transition-all duration-600 pb-1 border-black">Contact</a>
                </li>
                <li class="text-base md:text-lg lg:text-xl"><a href="About.html"
                        class="hover:border-b-[1px] transition-all duration-600 pb-1 border-black">About</a></li>
                <li class="text-base md:text-lg lg:text-xl"><a href="SignUp.html"
                        class="hover:border-b-[1px] transition-all duration-600 pb-1 border-black">Sign Up</a>
                </li>
            </ul>
        </div>
        <div class="w-full lg:w-auto flex justify-center lg:justify-end items-center gap-3 md:gap-4 order-2 lg:order-3">
            <div class="relative">
                <input type="search" placeholder="Search"
                    class="bg-[#f5f5f5] py-2 px-4 md:px-5 rounded-lg text-sm md:text-base w-40 md:w-48 lg:w-auto">
                <i
                    class="fa-solid fa-magnifying-glass text-sm md:text-lg absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer"></i>
            </div>
            <div class="relative">
                <a href="WishList.html">
                    <i class="fa-solid fa-heart text-lg md:text-xl cursor-pointer text-red-500"></i>
                    <span id="wishlist-count"
                        class="absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold px-1.5 py-0.5 rounded-full hidden">
                    </span>
                </a>
            </div>
            <div class="relative">
                <a href="Cart.html">
                    <i class="fa-solid fa-cart-shopping text-lg md:text-xl cursor-pointer text-blue-500"></i>
                    <span id="cart-count"
                        class="absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold px-1.5 py-0.5 rounded-full hidden">
                    </span>
                </a>
            </div>

            <a href="Account.html"><i
                    class="hgi hgi-stroke hgi-sharp hgi-user text-lg md:text-xl cursor-pointer text-blue-500"></i></a>
        </div>
    </div>
    <hr>
    <div
        class="Product-details-section relative px-4 sm:px-8 md:px-12 lg:px-20 py-8 sm:py-12 md:py-16 lg:py-24 xl:py-32 w-full gap-8 lg:gap-14">
        <div
            class="Product-details-section relative px-4 sm:px-8 md:px-12 lg:px-20 py-8 sm:py-12 md:py-16 lg:py-24 xl:py-32 w-full gap-8 lg:gap-14">
            <script>
                function getProductIdFromURL() {
                    const urlParams = new URLSearchParams(window.location.search);
                    return urlParams.get('id');
                }

                const productId = getProductIdFromURL();

                if (productId) {
                    let ProductURL = `https://dummyjson.com/products/${productId}`;

                    fetch(ProductURL)
                        .then(res => res.json())
                        .then(product => {
                            const productsContainer = document.getElementsByClassName('Product-details-section')[0];
                            const fullStars = Math.floor(product.rating);
                            const halfStar = product.rating % 1 >= 0.5;
                            const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);

                            let starsHTML = '';
                            for (let i = 0; i < fullStars; i++) {
                                starsHTML += `<i class="fa-solid fa-star text-[#ffad33] text-sm sm:text-base"></i>`;
                            }
                            if (halfStar) {
                                starsHTML += `<i class="fa-solid fa-star-half-stroke text-[#ffad33] text-sm sm:text-base"></i>`;
                            }
                            for (let i = 0; i < emptyStars; i++) {
                                starsHTML += `<i class="fa-regular fa-star text-[#808080] text-sm sm:text-base"></i>`;
                            }

                            productsContainer.innerHTML = '';

                            const productDetail = document.createElement('div');
                            productDetail.innerHTML = `
            <h1 class="flex text-xs sm:text-sm md:text-base lg:text-lg absolute left-4 sm:left-8 md:left-20 top-4 sm:top-6 md:top-8 lg:top-12 xl:top-16 text-[#808080] flex-wrap">
              <a href="index.html">Home&nbsp;&nbsp;</a>/<a href="Products.html">&nbsp;&nbsp;All Products&nbsp;&nbsp;</a>/<a href="ProductDP.html" class="text-black">&nbsp;&nbsp;${product.title}</a>
            </h1>
            <div class="flex flex-col lg:flex-row justify-center items-start mt-16 sm:mt-20 md:mt-24 lg:mt-10 min-h-[400px] sm:min-h-[500px] lg:h-[600px] gap-6 lg:gap-8">
              <div class="flex flex-col sm:flex-row justify-center gap-4 sm:gap-5 flex-1 lg:h-[650px] overflow-hidden">
                <div class="flex sm:flex-col gap-3 sm:gap-5 overflow-x-auto sm:overflow-visible pb-2 sm:pb-0 max-md:flex-wrap h-[31.55rem] overflow-hidden" id="thumbnails"></div>
                <div class="bg-[#f5f5f5] w-full h-64 sm:h-80 md:h-[31.55rem] lg:h-[650px] px-6 sm:px-8 md:px-10 rounded-md flex items-center justify-center">
                  <img id="mainImage" src="${product.images[0]}" alt="${product.title}" class="w-full max-h-full object-contain">
                </div>
              </div>

              <div class="flex flex-col gap-4 sm:gap-5 px-0 sm:px-4 md:pl-6 lg:pl-8 flex-1 max-w-full lg:max-w-md h-[600px] justify-between">
                <div class="flex flex-col gap-3 sm:gap-4 md:gap-5 border-b border-[#999999] pb-4 sm:pb-5">
                  <h1 class="text-xl sm:text-2xl md:text-3xl lg:text-2xl font-bold tracking-wide">${product.title}</h1>
                  <div class="flex flex-col sm:flex-row sm:items-center gap-2">
                    <div class="flex gap-1">
                      <h1 class="text-[#ffad33] text-sm sm:text-base">${starsHTML}</h1>
                    </div>
                    <div class="flex items-center gap-2">
                      <h1 class="text-[#999999] text-sm sm:text-base border-r-[2px] border-[#999999] pr-2 sm:pr-4 stock-text">(${product.stock})</h1>
                      <h1 class="text-[#66ffa3] text-sm sm:text-base pl-1 sm:pl-2 availability-text">${product.stock > 1 ? 'In Stock' : 'Out of Stock'}</h1>
                    </div>
                  </div>
                  <h1 class="text-xl sm:text-2xl md:text-3xl lg:text-2xl font-semibold">$${product.price}</h1>
                  <p class="text-sm sm:text-base tracking-wide leading-relaxed">${product.description}</p>
                </div>

                <div class="flex flex-col gap-4 sm:gap-5">
                  <div class="flex flex-col sm:flex-row gap-3 items-start sm:items-center">
                    <div class="flex border border-[#999999] rounded-md overflow-hidden text-lg sm:text-xl">
                      <div class="border-r border-[#999999] px-3 sm:px-4 py-2 transition-all duration-300 hover:bg-[#db4444] hover:border-[#db4444] hover:text-white cursor-pointer minus-btn">-</div>
                      <div class="px-6 sm:px-8 py-2 font-bold quantity-count">1</div>
                      <div class="border-l border-[#999999] px-3 sm:px-4 py-2 transition-all duration-300 hover:bg-[#db4444] hover:border-[#db4444] hover:text-white cursor-pointer plus-btn">+</div>
                    </div>
                    <a class="cart-btn bg-[#db4444] text-white text-base sm:text-lg rounded-md px-6 sm:px-8 md:px-10 py-2 cursor-pointer hover:bg-[#c73e3e] transition-colors">Buy Now</a>
                    <div class="border border-[#999999] w-10 h-10 sm:w-11 sm:h-11 flex justify-center items-center rounded-md text-lg sm:text-xl font-bold cursor-pointer hover:border-[#db4444] transition-colors">
                      <i class="hgi hgi-stroke hgi-favourite"></i>
                    </div>
                  </div>
                </div>

                <div class="border border-[#999999] rounded-md">
                  <div class="border-b border-[#999999] p-4 sm:p-5">
                    <div class="flex items-start gap-3 sm:gap-4">
                      <div class="flex justify-center items-center text-xl sm:text-2xl mt-1 flex-shrink-0">
                        <i class="hgi hgi-stroke hgi-delivery-truck-01"></i>
                      </div>
                      <div class="flex flex-col">
                        <h1 class="text-base sm:text-lg md:text-xl font-semibold">Free Delivery</h1>
                        <h1 class="text-xs sm:text-sm md:text-base tracking-wide underline text-[#666]">Enter your postal code for Delivery Availability</h1>
                      </div>
                    </div>
                  </div>
                  <div class="p-4 sm:p-5">
                    <div class="flex items-start gap-3 sm:gap-4">
                      <div class="flex justify-center items-center text-xl sm:text-2xl mt-1 flex-shrink-0">
                        <i class="fa-solid fa-arrow-rotate-left"></i>
                      </div>
                      <div class="flex flex-col">
                        <h1 class="text-base sm:text-lg md:text-xl font-semibold">Return Delivery</h1>
                        <h1 class="text-xs sm:text-sm md:text-base tracking-wide underline text-[#666]">Free 30 Days Delivery Returns. Details</h1>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `;

                            productsContainer.appendChild(productDetail);

                            const thumbnailsContainer = document.getElementById("thumbnails");
                            const images = product.images;

                            images.forEach((img, index) => {
                                const thumbWrapper = document.createElement("div");
                                thumbWrapper.className = "bg-[#f5f5f5] md:w-40 md:h-28 lg:w-48 lg:h-[9.15rem] rounded-md flex items-center justify-center flex-shrink-0 max-md:w-full max-md:h-32 py-3";

                                const thumbImage = document.createElement("img");
                                thumbImage.src = img;
                                thumbImage.className = "thumbnail max-md:w-[80%] max-w-full max-h-full object-contain" + (index === 0 ? " active" : "");

                                thumbWrapper.appendChild(thumbImage);
                                thumbnailsContainer.appendChild(thumbWrapper);
                            });

                            const main = document.getElementById("mainImage");
                            const thumbs = thumbnailsContainer.querySelectorAll("img");

                            thumbs.forEach((thumb) => {
                                thumb.addEventListener("click", () => {
                                    main.src = thumb.src;
                                    thumbs.forEach(t => t.classList.remove("active"));
                                    thumb.classList.add("active");
                                });
                            });

                            const plusBtn = document.querySelector('.plus-btn');
                            const minusBtn = document.querySelector('.minus-btn');
                            const quantityDisplay = document.querySelector('.quantity-count');
                            const stockDisplay = document.querySelector('.stock-text');
                            const availabilityDisplay = document.querySelector('.availability-text');

                            let stock = product.stock;
                            let quantity = 1;

                            quantityDisplay.textContent = quantity;
                            stockDisplay.textContent = `(${stock - quantity})`;
                            availabilityDisplay.textContent = 'In Stock';
                            availabilityDisplay.classList.remove('text-red-600');
                            availabilityDisplay.classList.add('text-[#66ffa3]');

                            plusBtn.addEventListener('click', () => {
                                if (quantity < stock) {
                                    quantity++;
                                    quantityDisplay.textContent = quantity;
                                    stockDisplay.textContent = `(${stock - quantity})`;
                                    if (quantity === stock) {
                                        availabilityDisplay.textContent = 'Out of Stock';
                                        availabilityDisplay.classList.remove('text-[#66ffa3]');
                                        availabilityDisplay.classList.add('text-red-600');
                                    } else {
                                        availabilityDisplay.textContent = 'In Stock';
                                        availabilityDisplay.classList.remove('text-red-600');
                                        availabilityDisplay.classList.add('text-[#66ffa3]');
                                    }
                                }
                            });

                            minusBtn.addEventListener('click', () => {
                                if (quantity > 1) {
                                    quantity--;
                                    quantityDisplay.textContent = quantity;
                                    stockDisplay.textContent = `(${stock - quantity})`;
                                    if (quantity === stock) {
                                        availabilityDisplay.textContent = 'Out of Stock';
                                        availabilityDisplay.classList.remove('text-[#66ffa3]');
                                        availabilityDisplay.classList.add('text-red-600');
                                    } else {
                                        availabilityDisplay.textContent = 'In Stock';
                                        availabilityDisplay.classList.remove('text-red-600');
                                        availabilityDisplay.classList.add('text-[#66ffa3]');
                                    }
                                }
                            });

                            const buyNowBtn = document.querySelector('.cart-btn');

                            buyNowBtn.addEventListener('click', () => {
                                const added = addToCart(product.id, product, quantity);
                                if (added) {
                                    window.location.href = 'cart.html';
                                }
                            });


                        });
                }
            </script>
        </div>
    </div>
    <div class="Reviews-section px-4 md:px-20 py-8 mb-32">
        <div class="Reviews-container">
            <script>
                const params = new URLSearchParams(window.location.search);
                const productId1 = params.get('id');

                if (productId1) {
                    fetch(`https://dummyjson.com/products/${productId1}`)
                        .then(res => res.json())
                        .then(product => {
                            const reviewContainer = document.querySelector('.Reviews-container');
                            const reviews = product.reviews || [];

                            reviewContainer.innerHTML = `
                                <div class="flex flex-col justify-center items-center gap-4 mb-6">
                                     <h1 class="text-3xl font-bold">Customer Reviews</h1>
                                    <h2 class="text-lg text-gray-600">(${reviews.length}) Reviews</h2>
                                </div>
                            `;

                            reviews.forEach(review => {
                                const fullStars = Math.floor(review.rating);
                                const emptyStars = 5 - fullStars;

                                let starsHTML = '';
                                for (let i = 0; i < fullStars; i++) {
                                    starsHTML += `<i class="fa-solid fa-star text-yellow-400"></i>`;
                                }
                                for (let i = 0; i < emptyStars; i++) {
                                    starsHTML += `<i class="fa-regular fa-star text-gray-400"></i>`;
                                }

                                reviewContainer.innerHTML += `
                                    <div class="border-b border-gray-200 pb-4 mb-4">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <h3 class="font-semibold">${review.reviewerName}</h3>
                                                <p class="text-sm text-gray-500">${review.reviewerEmail}</p>
                                            </div>
                                            <div class="flex gap-1">
                                                ${starsHTML}
                                            </div>
                                        </div>
                                        <p class="mt-5 text-gray-700">${review.comment}</p>
                                    </div>
                                `;
                            });
                        })
                        .catch(error => {
                            console.error("Failed to fetch product reviews:", error);
                        });
                }
            </script>

        </div>
    </div>
    <div class="this-Month-section mt-8 sm:mt-10 lg:mt-14 px-4 md:px-20 py-8 mb-32">
        <div class="flex flex-col gap-4">
            <div class="flex items-center gap-4">
                <div class="w-4 h-8 sm:w-5 sm:h-10 bg-[#db4444] rounded-md"></div>
                <h1 class="text-[#db4444] font-bold text-lg sm:text-xl">Related items</h1>
            </div>

        </div>
        <div id="this-month-container"
            class="flex max-xl:flex-wrap justify-start items-center gap-4 sm:gap-6 lg:gap-10 mt-6 sm:mt-8 lg:mt-10">
        </div>
        <script>
            let ProductsURL3 = 'https://dummyjson.com/products?skip=13&limit=4';

            document.addEventListener('DOMContentLoaded', function () {
                const thisMonthContainer = document.getElementById('this-month-container');
                thisMonthContainer.addEventListener('mouseenter', function (e) {
                    if (e.target.closest('.flash-sales-card')) {
                        const card = e.target.closest('.flash-sales-card');
                        const hoverBtn = card.querySelector('.flash-sales-hover-btn');
                        if (hoverBtn) {
                            hoverBtn.classList.remove('translate-y-full');
                            hoverBtn.classList.add('translate-y-0');
                        }
                    }
                }, true);

                thisMonthContainer.addEventListener('mouseleave', function (e) {
                    if (e.target.closest('.flash-sales-card')) {
                        const card = e.target.closest('.flash-sales-card');
                        const hoverBtn = card.querySelector('.flash-sales-hover-btn');
                        if (hoverBtn) {
                            hoverBtn.classList.remove('translate-y-0');
                            hoverBtn.classList.add('translate-y-full');
                        }
                    }
                }, true);
            });

            fetch(ProductsURL3)
                .then(res => res.json())
                .then(data => {
                    const productsContainer = document.getElementById('this-month-container');
                    data.products.forEach(product => {
                        const fullStars = Math.floor(product.rating);
                        const halfStar = product.rating % 1 >= 0.5;
                        const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);

                        let starsHTML = '';
                        for (let i = 0; i < fullStars; i++) {
                            starsHTML += `<i class="fa-solid fa-star text-[#ffad33] text-sm sm:text-base"></i>`;
                        }
                        if (halfStar) {
                            starsHTML += `<i class="fa-solid fa-star-half-stroke text-[#ffad33] text-sm sm:text-base"></i>`;
                        }
                        for (let i = 0; i < emptyStars; i++) {
                            starsHTML += `<i class="fa-regular fa-star text-[#808080] text-sm sm:text-base"></i>`;
                        }

                        const productCard = document.createElement('div');
                        productCard.className = 'w-full md:w-[290px] lg:w-[260px] xl:w-[266px] h-[350px] mt-5 flash-sales-card';
                        productCard.innerHTML = `
                            <div class="flash-sales-card relative h-[73%] w-full bg-[#f5f5f5] flex justify-center items-center overflow-hidden cursor-pointer rounded-lg">
                                <div class="flex flex-col gap-2 sm:gap-3 justify-center items-center absolute top-2 sm:top-4 right-2 sm:right-4">
                            <button class="wishlist-btn" data-id="${product.id}">
                                <i class="fa-solid fa-heart bg-white w-8 h-8 sm:w-10 sm:h-10 text-lg sm:text-xl rounded-full flex justify-center items-center transition-all duration-300 hover:text-red-600"></i>
                            </button>
                            <a href="AllProductsDP.html?id=${product.id}"><i class="fa-solid fa-eye bg-white w-8 h-8 sm:w-10 sm:h-10 text-lg sm:text-xl rounded-full flex justify-center items-center"></i></a>
                                </div>
                                <img class="w-[70%] sm:w-[80%]" src="${product.thumbnail}" alt="${product.title}">
                          <div data-id="${product.id}" class="cart-btn flash-sales-hover-btn bg-black absolute py-2 text-center w-full bottom-0 transform translate-y-full transition-transform duration-300 ease-in-out">
                            <h1 class="text-sm sm:text-md text-white tracking-wider">Add To Cart</h1>
                          </div>
                            </div>
                            <div class="h-[27%] mt-3 sm:mt-5 flex flex-col justify-center items-start gap-2">
                                <div class="flex flex-col gap-1 sm:gap-2">
                                    <h1 class="text-base sm:text-lg font-bold">${product.title}</h1>
                                    <div class="flex flex-col gap-1">
                                        <div class="flex flex-col gap-5 justify-start items-start font-bold text-sm sm:text-base">
                                            <div class="flex gap-5">
                                                <h1 class="text-[#db4444]">$${product.price}</h1>
                                                <h1 class="text-[#808080]">${product.discountPercentage}% Off</h1>
                                            </div>
                                            <div class="flex justify-start items-center gap-1">
                                                ${starsHTML}
                                                <h1 class="ml-2 text-[#808080] font-bold text-sm sm:text-base">(${product.stock})</h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                        productsContainer.appendChild(productCard);
                    });
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        </script>
    </div>
    <div class="footer bg-[#000000] text-white w-full">
        <div class="px-4 md:px-8 lg:px-20 pt-8 lg:pt-16 pb-6 lg:pb-10">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-8 lg:gap-8">
                <div class="flex flex-col gap-4">
                    <h1 class="text-2xl lg:text-3xl font-bold">Exclusive</h1>
                    <h2 class="text-xl lg:text-2xl">Subscribe</h2>
                    <p class="text-sm lg:text-base">Get 10% oFF on Your First Order</p>
                    <input type="email" placeholder="Enter Your Email"
                        class="border border-[#f5f5f5] py-2 lg:py-3 px-3 lg:px-5 rounded-lg bg-black text-white text-sm lg:text-base">
                </div>
                <div class="flex flex-col gap-4">
                    <h2 class="text-xl lg:text-2xl">Support</h2>
                    <ul class="flex flex-col gap-3 text-sm lg:text-base">
                        <li>111 Bijoy sarani, Dhaka <br>Dh 1515, Bangladesh.</li>
                        <li>exclusive@gmail.com</li>
                        <li>+88015-88888-9999</li>
                    </ul>
                </div>
                <div class="flex flex-col gap-4">
                    <h2 class="text-xl lg:text-2xl">Account</h2>
                    <ul class="flex flex-col gap-3 text-sm lg:text-base">
                        <li><a href="Account.html" class="hover:underline">My Account</a></li>
                        <li><a href="LogIn.html" class="hover:underline">Login / Register</a></li>
                        <li><a href="Cart.html" class="hover:underline">Cart</a></li>
                        <li><a href="WishList.html" class="hover:underline">Wishlist</a></li>
                        <li><a href="index.html" class="hover:underline">Shop</a></li>
                    </ul>
                </div>
                <div class="flex flex-col gap-4">
                    <h2 class="text-xl lg:text-2xl">Quick Link</h2>
                    <ul class="flex flex-col gap-3 text-sm lg:text-base">
                        <li><a href="404error.html" class="hover:underline">Privacy Policy</a></li>
                        <li><a href="404error.html" class="hover:underline">Terms of Use</a></li>
                        <li><a href="404error.html" class="hover:underline">FAQs</a></li>
                        <li><a href="Contact.html" class="hover:underline">Contact</a></li>
                    </ul>
                </div>
                <div class="flex flex-col gap-4 sm:col-span-2 lg:col-span-1">
                    <h2 class="text-xl lg:text-2xl">Download App</h2>
                    <div class="flex flex-col gap-3">
                        <p class="text-xs lg:text-sm">Save $3 with App New User Only</p>
                        <div class="flex items-center gap-3">
                            <img class="w-16 lg:w-20" src="images/QRcode.png" alt="QR Code">
                            <img class="w-24 lg:w-32" src="images/download.png" alt="Download App">
                        </div>
                        <div class="flex items-center gap-4 lg:gap-6 mt-2">
                            <a href="Contact.html"><i
                                    class="fa-brands fa-facebook-f text-xl lg:text-2xl hover:text-blue-500"></i></a>
                            <a href="Contact.html"><i
                                    class="fa-brands fa-x-twitter text-xl lg:text-2xl hover:text-gray-400"></i></a>
                            <a href="Contact.html"><i
                                    class="fa-brands fa-instagram text-xl lg:text-2xl hover:text-pink-500"></i></a>
                            <a href="Contact.html"><i
                                    class="fa-brands fa-linkedin-in text-xl lg:text-2xl hover:text-blue-600"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="border-t border-[#141414] py-4 px-4 md:px-8 lg:px-20">
            <p class="text-sm lg:text-base text-[#525252] text-center">&copy; Copyright Rimel 2025. All Rights Reserved.
            </p>
        </div>
    </div>
    <script src="script.js" defer></script>
    <script src="cart.js" defer></script>
    <script>
        function getProductIdFromURL() {
            const params = new URLSearchParams(window.location.search);
            return Number(params.get("id"));
        }

        async function fetchProduct(productId) {
            try {
                const res = await fetch(`https://dummyjson.com/products/${productId}`);
                if (!res.ok) throw new Error("Fetch failed");
                return await res.json();
            } catch (err) {
                console.error("Error fetching product:", err);
                return null;
            }
        }

        async function handleBuyNow(productId, quantity = 1) {
            const product = await fetchProduct(productId);
            if (!product) return;

            addToCart(product.id, product, quantity);
            console.log(`✅ Product ID ${productId} added to cart`);
        }

        const observer = new MutationObserver(() => {
            const allCartBtns = document.querySelectorAll(".cart-btn");
            const qtyDisplay = document.querySelector(".quantity-count");
            const quantity = qtyDisplay ? parseInt(qtyDisplay.textContent) || 1 : 1;

            if (allCartBtns.length > 0) {
                allCartBtns.forEach(btn => {
                    if (!btn.classList.contains("bound")) {
                        btn.classList.add("bound"); // prevent double binding
                        btn.addEventListener("click", (e) => {
                            e.preventDefault();

                            const productId = Number(btn.dataset.id) || getProductIdFromURL();
                            handleBuyNow(productId, quantity);
                        });
                    }
                });
            }
        });

        observer.observe(document.body, { childList: true, subtree: true });
    </script>
</body>

</html>